<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>For Lea Keziah Ilagan</title>
  <style>
    body, html {
      margin: 0; padding: 0; height: 100vh; overflow: hidden;
      font-family: "Comic Sans MS", cursive, sans-serif;
      background-color: #000;
    }

    /* Entrance Overlay */
    #entrance-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
      display: flex; flex-direction: column; justify-content: center;
      align-items: center; z-index: 1000; transition: opacity 1s ease;
    }

    .heart-btn {
      font-size: 5rem; cursor: pointer; border: none; background: none;
      animation: beat 1s infinite;
    }

    @keyframes beat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    /* Falling Flowers */
    #flower-container {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 5;
    }

    .flower {
      position: absolute; color: #ffb7c5; font-size: 20px;
      user-select: none; pointer-events: none;
      animation: fall linear forwards;
    }

    @keyframes fall {
      to { transform: translateY(105vh) rotate(360deg); }
    }

    /* Background Slideshow Fixed */
    .slideshow {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      z-index: -2; background: #000;
    }

    .slideshow img {
      position: absolute; width: 100%; height: 100%;
      object-fit: cover; opacity: 0; transition: opacity 1.5s ease-in-out;
    }

    /* This class ensures the first image shows immediately */
    .slideshow img.active { opacity: 0.6; }

    .overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.2); display: flex;
      justify-content: center; align-items: center; z-index: 10;
    }

    .card {
      background: rgba(255, 255, 255, 0.9);
      padding: 40px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.3);
      text-align: center; max-width: 400px; width: 90%; backdrop-filter: blur(5px);
    }

    h1 { color: #ff4d6d; font-size: 2.2rem; margin-bottom: 10px; }
    .nickname { color: #ff4d6d; font-weight: bold; font-size: 1.4rem; display: block; margin-bottom: 15px; }

    .buttons { position: relative; height: 120px; }
    button.choice {
      font-size: 1.1rem; padding: 12px 25px; border: none;
      border-radius: 30px; cursor: pointer; transition: 0.2s ease;
      position: absolute;
    }

    #yesBtn { background: #ff4d6d; color: white; left: 50%; transform: translateX(-120%); }
    #noBtn { background: #ddd; color: #555; left: 50%; transform: translateX(20%); }

    /* Love Letter Pop-up */
    #letterModal {
      display: none; position: fixed; top: 50%; left: 50%;
      transform: translate(-50%, -50%); width: 85%; max-width: 500px;
      background: #fffef0; padding: 30px; border-radius: 10px;
      box-shadow: 0 0 100px rgba(0,0,0,0.5); z-index: 100;
      border: 1px solid #d4af37;
    }

    #letterModal h2 { font-family: 'Georgia', serif; color: #b00; margin-top: 0; }
    #letterModal p { font-family: 'Georgia', serif; line-height: 1.6; text-align: left; font-size: 1rem; }
    
    .close-letter {
      margin-top: 20px; background: #ff4d6d; color: white;
      padding: 10px 20px; border-radius: 5px; cursor: pointer;
      display: inline-block;
    }

    .hidden { display: none; }
  </style>
</head>
<body>

  <div id="entrance-overlay">
    <button class="heart-btn" onclick="startExperience()">üéÅ</button>
    <h2 style="color: white; text-shadow: 1px 1px 5px rgba(0,0,0,0.2);">For Lea Keziah Ilagan</h2>
    <p style="color: white;">Click to open your surprise</p>
  </div>

  <div id="flower-container"></div>

  <audio id="bgMusic" loop>
    <source src="love.mp3.mp3" type="audio/mpeg">
  </audio>

  <div class="slideshow">
    <img src="1.jpeg" class="active">
    <img src="3.jpeg">
    <img src="4.jpeg">
    <img src="5.jpeg">
    <img src="6.jpg">
    <img src="7.jpeg">
    <img src="8.jpg">
    <img src="9.jpeg">
  </div>

  <div class="overlay hidden" id="mainUI">
    <div class="card" id="mainCard">
      <div style="font-size: 3rem; margin-bottom: 10px;">‚ù§Ô∏è</div>
      <h1>Will you be my Valentine,</h1>
      <span class="nickname">My Love, Lea Keziah Ilagan?</span>
      <p>You make my days brighter and my smiles wider ü•∞</p>
      <div class="buttons">
        <button id="yesBtn" class="choice">Yes üíñ</button>
        <button id="noBtn" class="choice">No üôÉ</button>
      </div>
    </div>

    <div class="card hidden" id="successCard">
      <div style="font-size: 3rem; margin-bottom: 10px;">üíò</div>
      <h1>Yay!!!</h1>
      <p>Happy Valentine‚Äôs Day, <strong>Lea Keziah Ilagan</strong>! üåπ</p>
      <button onclick="openLetter()" style="position:static; transform:none; background:#ff4d6d; color:white; border:none; padding: 12px 25px; border-radius: 30px; cursor:pointer;">Open my letter ‚úâÔ∏è</button>
    </div>
  </div>

  <div id="letterModal">
    <h2>To My Love, Lea Keziah,</h2>
    <p>
      I wanted to make something special just for you. Looking through all our photos 
      makes me realize how lucky I am to have you by my side. Thank you for all the 
      memories we've made so far‚Äîfrom the dinner dates to the late-night calls.
      <br><br>
      You are my favorite person, and I can't wait for everything the future holds for us.
      <br><br>
      With all my love,<br>
      Your Valentine ‚ù§Ô∏è
    </p>
    <div class="close-letter" onclick="closeLetter()">Close</div>
  </div>

  <script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const mainCard = document.getElementById("mainCard");
    const successCard = document.getElementById("successCard");
    const music = document.getElementById("bgMusic");
    const overlay = document.getElementById("entrance-overlay");
    const mainUI = document.getElementById("mainUI");
    const flowerContainer = document.getElementById('flower-container');

    function createFlower() {
      const flower = document.createElement('div');
      flower.classList.add('flower');
      flower.innerHTML = 'üå∏';
      flower.style.left = Math.random() * 100 + 'vw';
      flower.style.animationDuration = Math.random() * 3 + 2 + 's';
      flower.style.opacity = Math.random();
      flowerContainer.appendChild(flower);
      setTimeout(() => { flower.remove(); }, 5000);
    }

    function startExperience() {
      overlay.style.opacity = "0";
      setTimeout(() => {
        overlay.style.display = "none";
        mainUI.classList.remove("hidden");
      }, 1000);
      
      music.play();
      startSlideshow();
      setInterval(createFlower, 300);
    }

    function startSlideshow() {
      const slides = document.querySelectorAll('.slideshow img');
      let currentSlide = 0;
      
      // Safety check to make sure images exist
      if(slides.length === 0) return;

      setInterval(() => {
        slides[currentSlide].classList.remove('active');
        currentSlide = (currentSlide + 1) % slides.length;
        slides[currentSlide].classList.add('active');
      }, 3500); 
    }

    noBtn.addEventListener("mouseover", moveButton);
    noBtn.addEventListener("touchstart", (e) => {
        e.preventDefault();
        moveButton();
    });

    function moveButton() {
      const x = Math.random() * (window.innerWidth - 100) - (window.innerWidth / 2 - 50);
      const y = Math.random() * (window.innerHeight - 100) - (window.innerHeight / 2 - 50);
      noBtn.style.transform = `translate(${x}px, ${y}px)`;
    }

    yesBtn.addEventListener("click", () => {
      mainCard.classList.add("hidden");
      successCard.classList.remove("hidden");
    });

    function openLetter() { document.getElementById("letterModal").style.display = "block"; }
    function closeLetter() { document.getElementById("letterModal").style.display = "none"; }
  </script>
</body>
</html>